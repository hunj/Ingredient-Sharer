<% @posts = Post.all.select do |post| post.user_id == @user.id end %>
<div class="post_fields">
  <h2 align="center">Listing <%= @user.username %>'s Posts</h2>
  <p>
    <%= @user.username %> has been member since <%= l @user.created_at.to_date, format: :short %>.
  </p>
  <table width="900">
    <thead>
    <tr>
      <th width="60">Type</th>
      <th>Title</th>
      <th width="120">Location</th>
      <th width="120">Posted time</th>
      <th width="120">Delete at</th>
    </tr>
    </thead>

    <tbody>
    <% @posts.each do |post| %>
        <tr>
          <td><%= post.is_request ? 'Request' : 'Offer' %></td>
          <td><%= link_to post.title, post %></td>
          <td><%= post.location %></td>
          <td><%= l post.created_at.to_time, format: :short %></td>
          <td><%= l (post.created_at + post.ttl.hours).to_time, format: :short %></td>
          <td></td>
        </tr>
    <% end %>
    </tbody>
  </table>

</div>